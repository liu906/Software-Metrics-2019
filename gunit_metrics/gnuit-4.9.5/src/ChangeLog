2007-10-20  Ian Beckwith  <ianb@nessie.mcc.ac.uk>

	* Discontinued this ChangeLog, see ../ChangeLog for
	  changes from now on.

2001-06-03  Tudor Hulubei  <tudor.hulubei@ecora.com>

	* panel.c (panel_copy): Fixed to work on files >2Gb.
	* panel.c (panel_compare_files): Fixed to work on files >2Gb.

2000-05-08  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_update_info): Directories are counted as 0 bytes, 
	instead of the size of the listing.  This is less confusing, as
	people may assume that a non-zero size represent the recursively
	calculated sum of all the files in that directory, which is not
	true.

2000-05-01  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_beautify_number): Support for 64bit numbers.
	(panel_update_info): Same thing.

2000-04-18  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitunpack (unzip): Overwrite files w/o prompting.

2000-03-10  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_act_COPY): Copy operations no longer preserve
	ownership.  This is how `/bin/cp' does it.

2000-03-09  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_move): Fixed a dangerous bug that could cause the
 	source file to be deleted w/o being copied in some rare
 	circumstances.
	(panel_copy): Moving across filesystems now preserves ownership.

	* gitaction (file): *.pm removed, it is more often a Perl module.

	* gitview.c (update_line): Fixed the bug causing the display of
	the extra 0 in some files.

	* panel.c (panel_mkdirs): New function - it creates all the
	missing directory components in a path.

2000-02-23  Tudor Hulubei  <tudor.hulubei@ecora.com>

	* xid.c (xgetpwuid): Fixed sprintf buffer overflow.
	(xgetgrgid): Same fix.

1999-10-16  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitaction: Added *.[pP][nN][mM].

1999-09-30  Tudor Hulubei  <tudor@cs.unh.edu>

	* git.c (main): BUILTIN_up_one_dir now updates the command line
	path as well.

1999-09-26  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitps.c (update_process): Added an arrow in front of the current 
	process.

1999-06-30  Tudor Hulubei  <tudor@cs.unh.edu>

	* git.c (main): Fixed a crash when hitting ^G during an
	incremental search.

1999-06-28  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitaction: acroread is tried before xpdf.

1999-06-05  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitview.c (update_line): 2 columns for the hex display.

	* gitps.c (set_signal): Fixed a compilation issue on non-ANSI C
 	compilers.

	* tty.c (tty_key_print): Fixed a compilation issue on non-ANSI C
 	compilers.

	* gitaction: Fixed a problem in the gs and default rules.

1999-05-30  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitaction: Enhanced to use gitwhich and look for alternatives to 
	various viewers.

	* gitwhich.c: New file (a stripped down version of `which').

	* git.c (report_undefined_key): Don't display the error message if 
	the sequence ends in key_INTERRUPT (^G).
	* gitps.c (report_undefined_key): Same change.
	* gitview.c (report_undefined_key): Same change.

	* title.c (clock_refresh): Don't update the clock if in terminal
	mode.  Calling alarm(0) is not enough.

1999-05-19  Tudor Hulubei  <tudor@cs.unh.edu>

	* misc.c (needs_quotes): # is now quoted.

1999-04-25  Tudor Hulubei  <tudor@cs.unh.edu>

	* tty.c (tty_get_capabilities): Added xterm-debian and rxvt to the 
	list of xterm-like terminal emulators.

1999-04-22  Tudor Hulubei  <tudor@cs.unh.edu>

	* tty.c (tty_get_previous_key_seq): New function.

1999-04-20  Tudor Hulubei  <tudor@cs.unh.edu>

	* git.c (main): The name of the shell command currently being
	executed is now displayed on the title of the xterm window.

1999-01-11  Tudor Hulubei  <tudor@cs.unh.edu>

	* tty.c (tty_get_key): Key sequences are now displayed.

1998-09-18  Tudor Hulubei  <tudor@cs.unh.edu>

	* .gitaction: Absolute references work now.

	* gitaction: Absolute references work now.

1998-09-14  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitaction: Removed `pvfspeed -8 -s 8000 $2 2> /dev/null' from
	the code playing rmd and pvf files.

1998-09-12  Tudor Hulubei  <tudor@cs.unh.edu>

	* system.c (display_errors): Fixed a SIGSEGV generated by
	attempting to close the stream even when fopen() failed.

1998-09-10  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitps.c (update_process): Fixed an off by one error that was
	causing an incomplete display of the process name on Solaris.

1998-09-04  Tudor Hulubei  <tudor@cs.unh.edu>

	* git.c (main): The -i command line option displays only the
	path.  Same for gitps & gitview.

	* gitaction: Added support for playing pvf files.

1998-06-15  Tudor Hulubei  <Tudor Hulubei <tudor@cs.unh.edu>>

	* misc.h: RAND_MAX defined to 2147483647 if not already defined.
	SunOS needs this apparently.

1998-03-20  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_update_info): Thumb present only when not all the
	entries are visible.

1998-03-19  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_update_info): Added scroll-bar thumb on the right
	side of the panel frame.

1998-03-14  Tudor Hulubei  <tudor@cs.unh.edu>

	* signals.c (window_change): Added tty_defaults() before
	tty_io_clear() to make sure we clear the screen with the correct
	colors.

	* tty.c (TTY_CACHE_SIZE): Reduced to 1024, to prevent problems
	when updating the screen over the net.
	(tty_flush): Fixed to retry xwrite() until there is an error or
	everything gets transferred.

1998-03-13  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitps.c: signal_t replaced with xsignal_t, to compile w/o errors
	on AIX.

1998-03-12  Tudor Hulubei  <tudor@cs.unh.edu>

	* Makefile.in (distclean): Depends on clean.

1998-03-11  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_case_rename): Fixed error message when in
	read-only directories.

1998-03-05  Tudor Hulubei  <tudor@cs.unh.edu>

	* signals.c (signals_init): SIGQUIT is now ignored.

	* panel.c (panel_act_MKDIR): The current entry in the `other'
	panel is no longer affected by directory creation in `this' panel.
	(panel_find_index): Added more heuristics.

	* gitaction: Files that do not match any pattern and are located
	on msdos disks have the executable bits set.  Print them as well,
	they will appear as "data" to find.

	* gitaction: Under Linux we can use `file -L' to instruct `file'
	to follow symbolic links.

	* git.c (main): Temporary files now have a random number embedded
	in their name.

1998-03-03  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitps.c (main): Use colors if COLORTERM is defined.

	* gitview.c (main): Use colors if COLORTERM is defined.

	* git.c (main): Use colors if COLORTERM is defined.

	* tty.c (columns_ok): Fixed to allow less than 80 columns.

	* tty.c (lines_ok): Fixed to allow less than 7 lines.

	* git.c (main): Fixed various places where the xterm title was not
	correctly restored.

1998-01-27  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitmount: Added support for user mounted devices.  Under Linux a
	regular user can mount the CDROM and the FLOPPY under certain
	conditions with the `mount /dev/cdrom' and `mount /dev/fd0'
	commands.

	* gitaction: Added `.midi'.

1998-01-23  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitunpack: Added support for cpio archives.
	(exit_code): Fixed to report the error.

	* system.c (my_system): Fixed problem with rpm not working if
	stdin is closed.

Sun Jan 18 16:51:36 1998  Tudor Hulubei  <tudor@costar.cs.unh.edu>

	* gitunpack: Changed to unpack all the selected files.

	* gitaction: Changed to display information on executables as well.

	* gitmount: Changed to accept multiple devices to mount.

	* Makefile.in (strip): New make target.

1997-10-08  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitmount (name): The mounting directory is created if it does
	not exist.

1997-10-03  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitmkdirs: Installed in the bin directory.  This is basically a
	link to mkinstalldirs as found in the root of the source tree.

	* gitunpack: Implemented Viorel Anghel's suggestion - unpack to
	a given directory.

Wed Sep 24 06:25:10 1997  root  <dlipsa@cs.unh.edu>

	* system.c (display_errors): Remove any '\n' at the end of the
	line.

1997-09-22  Tudor Hulubei  <tudor@cs.unh.edu>

	* git.c (set_prompt): New function.

1997-09-21  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_to_old_entry): New function.  Helps repositioning
	on the same entry after rereading the directory.

1997-09-17  Tudor Hulubei  <tudor@cs.unh.edu>

	* tty.c (tty_resize): LINES & COLUMNS are updated as well.

	* misc.c (xsetenv): New function that hides the incompatibility
	between putenv() and setenv(), offering a common interface.

	* panel.c (load_fti): Modified to choose the longest pattern that
	maches, so that we no longer depend on the order in which the
	patterns are specified in the configuration file.

1997-09-14  Tudor Hulubei  <tudor@cs.unh.edu>

	* signals.c (service_interrupts): New function.  To be called when
	ready to service interrupts.
	(interrupts): New function.  Activates/deactivates suspend/resize
	signals.
	(window_change): New function.  Handles resizes (SIGWINCH).
	(signal_handlers): New function.  Installs/removes the SIGTSTP and
	SIGWINCH handlers.
	(signals_init): New function.

	* git.c (main): The temporary directory is now selected based on
	the TMPDIR environment variable, or "/tmp" if TMPDIR is not defined.
	* gitps.c (main): Same modification.
	* gitview.c (main): Same modification.

1997-09-13  Tudor Hulubei  <tudor@cs.unh.edu>

	* title.c (title_init): New file.  This stuff used to be in git.c.

	* inputline.c (il_restore_static): New function.  It restores the
	static part of the input line when the tty has a very small horizontal
	size and we are forced to hide it in il_update().
	(il_update_point): Modified to hide the static part of the input
	line when the horizontal dimension is too small.
	(il_update): Same modification.
	(il_resize): New function.
	(il_restore): Fixed to take into account potential change of size
	in the old input line structure.

	* inputline.c (il_hide_static): New function.  It hides the static
	part of the input line when the tty has a very small horizontal
	size.

	* status.c (status_resize): New function.
	(status_reset): New function.
	(status_refresh): New function.

	* misc.c (truncate_long_name): Now hadles len in the 0-3 range as
	well.

	* panel.c (panel_copy): Added `dest' to the string displayed on
	the status bar.
	(panel_move): Added `to' to the string displayed on the
	status bar.
	(panel_update_path): Made scalable.
	(panel_update_size): Made scalable.
	(panel_update_info): Made scalable.
	(panel_update_entry): Made scalable.

	* git.c (il_isearch): Added support for BUILTIN_refresh and
	BUILTIN_hard_refresh.
	(il_read_line): Same thing.
	(il_read_char): Same thing.

	* system.c (my_system): New function.  It offers much more control
	over the way the file descriptors and signals are handled.

1997-09-12  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (panel_action): When changing the sorting key, the
	current entry doesn't change.

	* git.c (resize): New function.  It resizes all git's components.
	(refresh): New function.  Refreshes git's components.

	* panel.c (panel_update_size): If the number of free file system
	blocks is negative, display 0.

	* inputline.c (il_update_point): Fixed for more consistent
	horizontal scrolling.
	(il_update): Same fix.

1997-09-11  Tudor Hulubei  <tudor@cs.unh.edu>

	* tty.c (tty_puts): Modified to do clipping.

	* window.c (window_putc): Added some simple minded clipping
	support.
	(window_puts): Same thing.

	* gitkeys.c (main): The exit key is now `q', following the Unix
	tradition...

	* git.c (resize): New function.  It resizes all git's components
	if necessary.
	(refresh): New function.  It refreshes all git's components.
	(usage): New function.
	(main): Added command line arguments.

	* tty.c (tty_init): New function.  Hides the old tty_kbd_init(),
	tty_get_capabilities and get_tty_name() in one function.
	(tty_get_size): This function no longer has parameters.
	The `tty_lines' & `tty_columns' variables are global and
	should be used instead of the previous `SCREEN_X'/`SCREEN_Y'.
	(tty_getc): Activate/deactivate  suspend/resize signals
	before/after the read() system call.  Also service any
	pending signal at the very beginning.
	(tty_set_interrupt_char): Preserve the interrupt character.
	We will need it when restoring the NONCANONIC mode.
	(tty_set_mode): Restore the interrupt character that was
	in place before switching to CANONIC mode.
	(tty_resize): New function.  Reallocates the tty screen
	and attribute buffers to fit the new screen dimensions.

	* gitaction: separate messages for non existing files or
	non-directories in the command line.

1997-09-06  Tudor Hulubei  <tudor@cs.unh.edu>

	* gitview.c (main): Added command line arguments.

	* gitps.c (main): Added command line arguments.

	* git.c (main): Added command line argumets.
	(main): Added support for the -p command line argument - output
	the final path to descriptor 3 at exit.

1997-09-04  Tudor Hulubei  <tudor@cs.unh.edu>

	* misc.c (update_path): New function.  It adds $(prefix)/bin to
	PATH, so that git can easily find its components.

1997-08-15  Tudor Hulubei  <tudor@cs.unh.edu>

	* xid.c (fix): New function to fix incorrect user names like:
	xax^H (Ctrl+H).  We don't want these ^Hs sent to the terminal.
	Thanks to Andrei Caraman <xax@roedu.net> for reporting the
	problem.

	* tty.c (tty_update_title): Added "dtterm", "aixterm", and
	"iris-ansi".

Wed Jun  4 00:04:29 1997  Tudor Hulubei  <tudor@cs.unh.edu>

	* tty.c (tty_update_title): New function.  If the terminal type is
	xterm or xterm-color then we can change the title of its window.

Mon Jun  2 13:53:28 1997  Tudor Hulubei  <tudor@cs.unh.edu>

	* panel.c (percent): Changed (total >= 100) to (total >= 100000)
	to avoid precision errors for small files.  Remember, we want to
	keep this working _without_ using floating point.

Fri Dec 27 21:04:00 1996  Tudor Hulubei  <tudor@hal.cs.unh.edu>

	* panel.c (panel_update_size): Fixed to support file system sizes
	up to about 100 Tb.

	* tilde.c (tilde_expand_word): updated from bash-2.0.

Sun Dec 22 19:32:57 1996  Tudor Hulubei  <tudor@hal.cs.unh.edu>

	* panel.c (panel_parse_patterns): New function.

Fri Dec 20 15:23:35 1996  Tudor Hulubei  <tudor@hal.cs.unh.edu>

	* panel.c (panel_act_BIN_PACKING): New function.  Implements the
	First Fit Decreasing algorithm for bin packing the files in the
	current directory.
	(panel_update_size): git reports for the superuser the total
	number of free blocks in the file system, not just the number of
	free blocks available to the non-superuser.

	* git.c (il_read_char): IL_HOME - new flag.  Position the cursor
	at the beginning of the line.

	* panel.c (panel_copy): Fixed the start string to quote the
	file/directory names.

Mon Dec  2 19:34:08 1996  Tudor Hulubei  <tudor@hal.cs.unh.edu>

	* Makefile.in (prefix-change): New rule.  The output is hidden -
	too boring :-).  Even though this prefix stuff turned out to be
	hard to implement, it should work ok in most of the cases.  Don't
	try to be too smart though, things like `make git
	prefix=other-prefix' will not work.  Just use the regular make /
	make install stuff w/ and w/o the prefix stuff and you will be
	safe.

Wed Nov 20 14:46:00 1996  Tudor Hulubei  <tudor@hal.cs.unh.edu>

	* Makefile.in: Support for exec_prefix.  Should have been here
	from the very beginning...

	* git.c (read_keys): fixed a bug causing segmentation violation
	signals when tty_get_symbol_key_seq returned NULL.  Thanks to Rolf
	Rossius <rossius@hrz.tu-chemnitz.de> for reporting the problem.
	The same bug has been fixed in gitps.c and gitview.c as well.

Mon Nov 11 20:45:31 1996  Tudor Hulubei  <tudor@kaa.cs.unh.edu>

	* panel.c: Added casts to NULL, in order to make git compile
	cleanly on IRIX64 6.1 systems (using the native compiler).

	* git.c: Same story.

Sat Nov  9 21:44:43 1996  Tudor Hulubei  <tudor@kaa.cs.unh.edu>

	* panel.h (struct): The size field is now of type off_t, as it
	should have been from the very beginning.

Tue Oct 29 12:29:57 1996  Tudor Hulubei  <tudor@kaa.cs.unh.edu>

	* gitaction (done): If there is no ./.gitaction in the current
	directory or if there is no matching pattern in it, back up to
	$HOME/.gitaction.  If that fails too, execute the default action
	in gitaction.

Mon Oct 28 01:07:38 1996  Tudor Hulubei  <tudor@kaa.cs.unh.edu>

	* panel.c (panel_resize): panel_update() no longer called, it is
	too soon.  Instead, call it separately, after switching to the new
	display mode completely.

	* git.c (main): Fixed a bug in BUILTIN_two_panels.  panel_resize
	is now called correctly in all the cases.

Wed Oct 16 15:02:11 1996  Tudor Hulubei  <tudor@kaa.cs.unh.edu>

	* panel.c (panel_action): act_UP_ONE_DIR: New builtin action that
	goes up to the parent directory and positions on the entry
	corresponding to the current directory.

Sun Oct 13 18:47:06 1996  Tudor Hulubei  <tudor@kaa.cs.unh.edu>

	* gitaction: Added support for *.rpm files.

Fri Oct 11 13:06:11 1996  Tudor Hulubei  <tudor@kaa.unh.edu>

	* Makefile.in (install-strip): Changed to use the install-scripts
	and install-stripped-binaries targets.  Also added a dependency on
	`all'.
	(install-stripped-binaries): New target.  Installs the stripped
	versions of the binaries.

Tue Oct  8 12:44:21 1996  Tudor Hulubei  <tudor@kaa.unh.edu>

	* misc.c (common_configuration_init): An off-by-many bug has been
	fixed :-)

	* panel.c (percent): New function.  It makes displaying percents
	possible for large files.

Sun Oct  6 20:03:52 1996  Tudor Hulubei  <tudor@kaa.unh.edu>

	* git.c (il_read_line): Restored the original behaviour,
	i.e. ignore unrelated keys (just beep) and keep editing the line.

Sat Sep 28 21:56:39 1996  Tudor Hulubei  <tudor@kaa.unh.edu>

	* xio.c (rename): New function, for those systems that lack one,
	like the AT&T 3B2.

	* xio.c (readlink): New function, for those systems that lack one,
	like the AT&T 3B2.

Tue Sep 10 22:07:39 1996  Tudor Hulubei  <tudor@kaa.unh.edu>

	* stat.h (S_IRWXO): Added.  Not defining it caused problems on
	some NeXT machines.

Wed Aug 21 00:45:11 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* tty.c (tty_get_size): Changed to handle termcap lines/columns as
	well.

	* Makefile.in (DEFS): Added _GNU_SOURCE to turn all the GNU
	extensions on.

	* panel.c (panel_unlink): New function.  Used to avoid deleting
	files in panel_copy when not regular files.  If for some reason we
	cannot copy a file to /dev/fd0, there is no need to remove the
	incomplete target file (/dev/fd0).

Sat Aug 10 20:41:35 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* panel.c (panel_act_MKDIR): Added S_IRWXO to mkdir.

Thu Aug  8 11:59:09 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* panel.c: select-file changed to select-entry
	file-to-input-line changed to entry-to-input-line
	etc.
	(panel_act_COMPARE): New function.  It compares the contents of
	the two panels.  It can do it quickly, by inspecting the file
	names, file sizes and time stamp, or thoroughly, by verifying
	the actual data.

Tue Aug  6 00:15:43 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* git.c (read_keys): Key sequence conversion errors are now
	reported.

	* tty.c (tty_extract_key): New function.  It deals with characters
	with the 8th bit set.

	* gitkeys.c (main): gitkeys now displays unsigned chars.

	* tty.c (tty_get_capabilities): Under Linux, tgetent is called
	with NULL - i.e. let it allocate the buffer.

Mon Aug  5 19:53:27 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* panel.c (panel_select_all): Fixed a small bug in counting the
	selected files.

Thu Jun  6 09:17:32 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* Makefile.in (installdirs): chmod 755 removed.
	install_strip renamed to install-strip.
	install now depends on all and on install-only.

Mon Apr 22 11:08:06 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* All the source files have been tabified.

Sun Apr 21 11:25:14 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* history.c: All the calls to free() have been replaced with calls
	to xfree().

	* tilde.c: All the calls to free() have been replaced with calls
	to xfree().

Sat Apr  6 11:51:03 1996  Tudor Hulubei  <tudor@chang.pub.ro>

	* misc.c: xbasename() moved to xio.c.

	* Ported to qnx 4.22 thanks to Michael Hunter.

Mon Apr  1 00:52:07 1996  Tudor Hulubei  <tudor@chang>

	* tty.c (tty_beep): Bug fix.  Now calls tty_writec() instead of
	tty_putc().

Thu Mar 28 09:47:06 1996  Tudor Hulubei  <tudor@chang>

	* misc.c (clear_path): Enhanced to clear things like
	/usr/local/bin/../lib as well.

	* panel.c (panel_init): Modified to try to chdir to the directory
	specified by path and then use xgetcwd() to get the absolute path.
	This way this->path will never point to an relative path.

	* git.c (main): StartupLeftPanelPath & StartupRightPanelPath have
	been removed.  They were useless.

Wed Mar 27 10:12:36 1996  Tudor Hulubei  <tudor@chang>

	* panel.c (mode2string): New function.  The code used to be
	duplicated (and slightly different) in panel_build_entry_field()
	and panel_update_info().

Fri Mar 22 10:43:38 1996  Tudor Hulubei  <tudor@chang>

	* tty.c (tty_get_size): Odd columns stuff removed.

	* git.c (main): Wait set to 1 do prevent panels from
	being redrawn immediately.

	* git.c (main): If the number of columns is odd, the left panel
	will be one character lager.

	* panel.c (panel_act_ENTER): Idem.

Tue Mar 19 03:46:45 1996  Tudor Hulubei  <tudor@chang>

	* tty.c (tty_get_size): Forced an even number of columns.

	* inputline.c (il_downcase_word): New function.

	* inputline.c (il_capitalize_word): New function.

	* inputline.c (il_upcase_word): New function.

	* misc.c (putenv): New function.  Used under NeXT, which seems to
	lack it.

Mon Mar 18 12:02:19 1996  Tudor Hulubei  <tudor@chang>

	* panel.c (beautify_size_number): New function.  It beautifies a
	number like this: 8,881,152.

	* panel.c (panel_update_size): Changed to call beautify_size_number().

Thu Mar 14 23:06:27 1996  Tudor Hulubei  <tudor@chang>

	* inputline.c (il_kill_word): New function.  It implements the
	kill forward word operation.  Mapped on M-d (ESC d).

Tue Feb 27 23:38:36 1996  Tudor Hulubei  <tudor@chang>

	* panel.c: Fixed a problem introduced by a previous change in
	panel.h.

Sun Feb  4 17:13:34 1996  Tudor Hulubei  <tudor@chang>

	* Ported to SVR2/SVR3 using a patch from Philippe De Muyter.

Sun Jan 28 16:48:06 1996  Tudor Hulubei  <tudor@chang>

	* git.c (main): Empty command lines are no longer executed.

	* panel.c (panel_read_directory): A few improvements for handling
	braind damaged NFS file systems.

	* gitaction: If no viewer has been specified, use the default
	pager to display the file.

Sat Jan 13 13:09:13 1996  Tudor Hulubei  <tudor@chang>

	* panel.c (panel_update_frame): FrameDisplay has been removed.
	Made useless by the new tty optimization algorithm.

	* AnsiColorSequences changed to AnsiColors.

	* system.c (start): A bug has been fixed.  git used to hang when
	started on a terminal owned by some other user but the one running
	git (i.e. root + su user => root the owner of the tty, but git runs
	as user).  closing the tty descriptors assuming that it will be
	possible to open them again later was wrong.  We now duplicate the
	descriptors with dup() and restore them later.

Thu Jan 11 02:11:19 1996  Tudor Hulubei  <tudor@chang>

	* tty.c (tty_set_mode): unlock the terminal so that we don't get
	a locked one and hang.

Wed Jan 10 13:18:54 1996  Tudor Hulubei  <tudor@chang>

	* tty.c: curses-like algorithm rewritten.  Much better now.

	* gitps.c (main): restores screen at exit (under Linux).

	* gitview.c (main): restores screen at exit (under Linux).

Fri Dec 22 13:52:50 1995  Tudor Hulubei  <tudor@chang>

	* tty.c (tty_defaults): Default ANSI colors are correctly restored
	under xterm, rxvt, aixterm, whatever.

	* Makefile.in (install_strip): New rule.  Installs striped
	binaries.

	* misc.c (get_file_type_info): the foreground, background and
	brightness fields in the FTI description are optional.  Reasonable
	defaults are used if missing.

Mon Oct 30 00:37:52 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* gitxgrep: Called by gitr?grep to search for files.

	* gitrgrep: Changed to use find.  Safer.

Sun Oct 29 19:41:09 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* gitrgrep: Added gitregrep & gitrfgrep, links to gitrgrep.
	Depending on argv[0], gitrgrep will call grep, egrep or fgrep.

	* gitaction: Quoted all occurences of $1 & $2 so that it can
	handle unusual file names.

	* git.c (il_read_line): Exit from il_read_line when an unused
	key sequence is typed.

	* git.c (il_read_line): Added the default string to the history.

Fri Oct 27 18:57:26 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* panel.c (panel_act_MOVE): Fixed a bug due to which some files
	were moved across file systems by calling system() instead of
	panel_copy().

	* panel.c (panel_copy): For non-regular files displaying the
	percent is useless, so we display the number of bytes copied so
	far.

	* panel.c: When copying/moving files, the destination is no longer
	displayed.  Also, the message on the status bar is left aligned.

Thu Oct 26 02:23:53 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* tty.c: Better curses like optimization.  Still somehow git
	specific, but a lot faster.

	* window.c (window_cursormove_notified): Removed.  Used to call
	tty_cursormove_notified which is gone.

	* tty.c (tty_cursormove_notified): Removed.  The terminal
	optimizations do not need it anymore.

	* xtimer.c: Removed.  It was only used to prevent races when using
	gitclock().  Since gitclock is gone, there is no need for xtimer
	anymore.  For a safe implementation of a clock we should use the
	select() system call, which is a BSD feature (possible portability
	problem) and which is currently not implemented under Thix.

	* git.c (gitclock): Removed.  Too many races.

	* panel.c (panel_init): Fixed a bug that prevented FrameDisplay to
	behave as expected.

	* Added *.el, *.elc & Co to the [GIT-FTI] section in .gitrc.common.

	* Changed __P to PROTO to avoid conflicts with Minix headers.

	* panel.c (load_inode): New function.  Contains all the inode
	stuff that used to be in panel_read_directory().

	* panel.c (load_fti): New function.  Called to obtain file type
	information, but only once, when the file is first displayed.

Wed Oct 25 17:13:15 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* misc.c (get_file_type_info): Fixed a bug reported by Marian
	Ciobanu <ciobi@liis.sfos.ro> on October 24, 1995.  User defined
	[GIT-FTI] sections now work as expected.

	* git.c (main): The Linux console contents is restored at exit.

	* tty.c (vcs_io): New function.  Implements support for both
	/dev/vcsa* and /dev/vcs* under Linux.

Mon Sep  4 11:23:04 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* git.c (command_expand): Fixed a bug that allowed actions to take
	place when %i or %I where expanded to nothing.

Sat Sep  2 17:04:47 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* .gitrc.common: Replaced " with ' in gitrgrep and find actions.

Sat Jul 29 01:09:27 1995  root  <root@chang.pub.ro>

	* git.c: Fixed a few bugs.  After ^Xd, ^X^P, ^X^N and ESC c c
	the input line is now correctly updated.

Fri Jul 28 09:35:27 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* gitmatch.c: Removed.

	* gitaction: Using the shell 'case' statement matching capability
	instead of gitmatch.

Sat Jul 22 13:48:45 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* gitaction: Improved.  Works now for compressed movies.

Sun Jul 16 19:59:32 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* "linux" seems to be used instead of "console" as the terminal
	type.  Added .gitrc.linux, just to be sure.  It won't hurt and, if
	I am wrong, it will be easy to remove it.  Those rumors...

Mon Jul 10 16:55:32 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* panel.c: conform-current-directory & conform-other-directory now
	save the new directory into the directory history.

	* tty.c: Added support for /dev/vcsa under Linux.  It needs r/w
	permission to /dev/vcsa in order to work.

	* Added GIT_PAGER.

	* configure.c: Increased the maximum number of characters allowed
	in a key sequence (when seek == NO_SEEK).

Sat Jul  8 18:45:16 1995  Tudor Hulubei  <tudor@chang.pub.ro>

	* panel.c (panel_update_entry): Added file type sensitivity.

Fri Mar 17 18:38:46 1995  Hulubei Tudor  <tudor@clipper.cs.vu.nl>

	* tty.c: (tty_set_mode):  Added many #ifdefs to check for unusual
	c_cc[] fields.

	* tty.c:  _POSIX_VDISABLE used instead of -1.

	* panel.c: Scroll step moved to the setup section, in order to
	make it available for both git and gitps.  I don't think it is
	really important to have a separate scroll step for git and gitps.

	* gitps.c:  Added scroll-step.

	* git.c:  Panels are no longer deleted/displayed when a background
	command is started.

Sun Mar  5 08:20:42 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* panel.c: Panels can be maximized (only one panel on the screen),
	still being able to perform all the operations.

	* git.c: Added unlimited separate history for each command.

	* git.c: Added %?{confirmation}, a new format specifier.

	* The key bindings common to all terminal types are now in
	.gitrc.common.

	* panel.c: copy/move/delete can act on subdirectories.

	* panel.c: make-directory no longer expects a basename.

	* panel.c: Added tilde_expand() on 'copy' and 'move'.

	* Added ConfirmOnExit.

	* git.c: Added directory history.

	* git.c: The command body is no longer necessary.  Commands with
	no body can be used to switch faster between directories.

	* panel.c: A bug in getting symbolic link sizes has been fixed.

	* Added scroll step.  It uses the StartupScrollStep variable at
	startup but it can be modified thru the set-scroll-step built-in
	function.

	* panel.c: Added incremental search.  Both I-search and
	I-search-backward are provided.  Wrapped i-search too.

Sat Mar  4 23:34:14 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* Added a new configuration file that will hold the key bindings
	common to all terminals.

	* git.c (il_read_line): added separate history for each command.

Mon Feb 13 00:36:30 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* panel.c: Removed panel_check_name().  It is now possible to make
	a directory with make-directory anywhere, not only in the current
	directory.  tilde_expand() has been added here too.

	* panel.c: Added tilde_expand() on copy-files and rename-move-files.

Sat Feb 11 10:31:50 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* git.c: Added a new variable, ConfirmOnExit, in the GIT-Setup
	section, allowing the user to specify if he wants to be asked for
	confirmation at exit.

Mon Feb  6 00:19:06 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* panel.c: Added directory history.

	* configure.in: HAVE_* are all defined in config.h (the file
	generated by ./configure from config.h.in).

Sat Feb  4 17:45:58 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* term/Makefile.in: Preformatted manual pages have been removed
	from the distribution.

	* Makefile.in: All the commands are now displayed.

Sat Feb  4 17:42:32 1995  Han Holl  (100327.1632@compuserve.com)

	* gitrgrep: removed the space between -c and $skip and added a sed
	filter in order to remove some spaces when getting $skip.  It now
	works on SCO Unix 3.2 V 4.2.

Fri Jan 27 00:27:55 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* panel.c: a bug in getting symbolic links size has been fixed.
	Only symbolic links with no target have been affected.

Wed Jan 25 17:31:15 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* panel.c: Added incremental search (isearch).  Both isearch-forward
	and isearch-backward are available.

	* panel.c: Added scroll step.  The default is to scroll this->lines/2
	but this can be changed in the configuration file using the
	StartupScrollStep variable or, dynamically using the set-scroll-step
	built-in function.

	* .gitrc.TERM files have been moved to $(prefix)/lib/git/term.
	There is no point in filling out the $(prefix)/lib directory :-)

Thu Jan 12 22:56:10 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* ^H (8), ^I (9), ^J (10), ^M (13), ^SPC (0) and BACKSPACE (127)
	can be configured in the configuration files.

	* panel.c: When copying files that are longer than 64 Kb, the copied
	percent is displayed on the status bar.

	* panel.c: The copy_files built-in command can be interrupted in
	the middle of a file copy action.  If the operation is interrupted
	in the middle, the incomplete file is deleted.

	* tty.c: ^G is the new interrupt / quit character.

	* inputline.c: Added input line editing.  Most emacs-like editing
	commands suitable for editing one line of input are now available.

Wed Jan  4 21:41:37 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* tty.c: Interrupt character and quit character are now ^G (as in
	emacs).  gitkeys.c has been changed too.

Sun Jan  1 16:22:11 1995  Tudor Hulubei  (tudor@cs.pub.ro)

	* git.c: Added full history support.  history_expand() is now
	called to expand each command entered at the prompt.

	* git.c: (add_to_environment): New function.  The configuration
	files use now shell environment variables for the editor, mail
	reader, compress utility, shell and the vmstat (free) program.
	The user can use some other default editor without modifying the
	configuration file, just setting GIT_EDITOR to point to the new
	one.  The same rule applies to all the programs mentioned before.

Sat Dec 31 19:40:38 1994  Tudor Hulubei  (tudor@cs.pub.ro)

	* Makefile.in: Major changes.  I have split the distribution in
	three directories: src, info and man.  The Makefiles have been
	changed in order to be able to support compilation in a different
	directory.

Fri Dec 30 00:22:25 1994  Tudor Hulubei  (tudor@cs.pub.ro)

	* gitrgrep: New file.  Recursive grep might be useful.

	* xpasswd.c: User / group ids are now cached in order to increase
	the speed when reading directories.  Previous versions used keep
	track of the last used user / group id, but I think that caching
	all the user / group ids is better.

	* fsusage.c: Added support for file system size using fsusage.c
	from FSF.

Thu Dec 29 00:00:22 1994  Tudor Hulubei  (tudor@cs.pub.ro)

	* LSM: Switched to the new LSM style.

	* panel.c: (panel_getdirinfo): Added support for symbolic links.

Wed Dec 28 15:59:21 1994  Tudor Hulubei  (tudor@cs.pub.ro)

	* Makefile.in: Modified to use a BSD compatible install.

	* .gitrc.TERM: Major changes.  Most default bindings have been
	changed.  A new (hopefully better) scheme is used.

	* configure.in: Converted to autoconf 2.1

Mon Dec  5 14:47:04 1994  Tudor Hulubei  <tudor@apolo.cs.pub.ro>

	* gitps.c: (build_ps_list): char c changed to int c in order to
	make it work on systems with default unsigned chars (AIX).  I
	should have done this from the very beginning.

	* xmalloc.c: Check for size == 0.  Some systems return a valid
	pointer if malloc gets called with size == 0 (HP-UX), others
	return NULL (AIX).

	* git.c: (fatal): Removed the edit_end() call from clean_up().  It
	could lead to an endless loop if xmalloc() fails in
	write_history() because xmalloc() calls fatal() and fatal() calls
	clean_up() again.

Thu Dec  1 14:50:38 1994  Tudor Hulubei  <tudor@apolo.cs.pub.ro>

	* If a .gitrc.TERM configuration file cannot be found, use
	.gitrc.generic.

Sat Nov 26 14:34:47 1994  Tudor Hulubei  <tudor@apolo.cs.pub.ro>

	* tty.c: Added support for System V and BSD terminal interfaces.

Wed Nov 23 16:51:41 1994  Tudor Hulubei  <tudor@apolo.cs.pub.ro>

	* gitps.c: (ps): Fixed a bug (referencing a NULL pointer).

Thu Nov 10 16:56:53 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c: (tty_get_capabilities): Better support for the hpterm
	terminal emulator.  I've used a really ugly hack for this but I
	hope I will be able to change it someday.

Wed Nov  9 11:33:23 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* git.c: (refresh_after_suspend): Better handling of ^Z (the
	suspend key).  The previous version used to wait a key after the
	fg command was entered at the shell prompt.  Fixed.

Sun Nov  6 14:31:00 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c: (tty_get_exit_colors): New function.  Used to correctly
	restore the terminal colors at exit.  Since there is no way to do
	that in a terminal independent way (at least none that I know of),
	I've used two variables in the [Setup] section to specify the
	default foreground/background for each terminal type.

Tue Sep  6 17:24:17 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* uitps.c: If the process we want to kill no longer exists, the
	error message is correctly displayed.

	* panel.c: (panel_move): Files are really moved, not
	copied/removed.

	* uit.c: (getOpCommand): Fixed a bug in %i & %I handling.

	* configure.in: Fixed a bug in adding -m486 to CFLAGS. Also added
	-m386 to CFLAGS when i386 is detected.

Wed Aug 31 19:45:55 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* The file names are quoted before being copied to the command
	line.  The shell is able this way to correctly parse command lines
	containing ISO9660 CD file names.

	* fnmatch.c, tilde.c and history.c are compiled only if the
	requested functions are not found by the configure script in the
	standard + readline libraries.

	* A new script has been written (uitredir) to allow uit to
	capture the standard output of some programs.

	* We can use symbolic key names in the configuration files.  UIT
	supports F0, F1 ... F10, UP, DOWN, RIGHT, LEFT, UP, DOWN, HOME,
	END, INS, DEL, PGUP, PGDOWN.

	* We can configure the uit package using the 'configure' script.
	It was generated from configure.in using autoconf 1.11.

	* panel.c: Rewrote the file iterator.

Tue Aug 23 13:27:23 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* A *lot* code cleanup.

	* panel.c: Removed max 1024 files limit in a directory.
	Everything is now dynamically allocated.

	* panel.c: (panel_move): Added support for moving files between
	file systems.

	* GNU alloca.c added to the distribution.  Just in case.

	* Added tilde expansion using the bash source file tilde.c.

	* Added history using the GNU history library.

	* uit.c: Added CopySelectedFilesToCmdLn.

	* uit.c: (getOpCommand): Added %i & %I.

Mon Aug 15 11:58:25 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* panel.c: Removed a bug in panel_copy & panel_move.  Interpreting
	's' and 'a' (skip and all) when copying only one file was useless.

	* uit.c: 0 & 1 have been replaced by n & y in the configuration files.

	* status.c: (status): uit can display on the status bar the system
	type, host name, machine type and the current date.

	* panel.c: (panel_copy): MS-DOS files are copied without the __x bits.

	* uit.c: ~ added to the new_dir field in the configuration file to
	be able to get the user's home directory.

	* tty.c: Code cleanup. Terminal capabilities are used smarter :-).

	* panel.c: (panel_move): uit can now move files between file systems.

	* panel.c: (panel_getdirinfo): The number of files is no longer
	limited to 1024.

Fri Jul 29 17:11:34 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c: The cursor can be now hided.

Thu Jul 28 01:33:09 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c: Added terminfo support.

Wed Jul 27 15:23:30 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* uit.c: If we call start() to execute a shell command (a command
	typed in the command line window) we must fork() not exec(), in
	order to be able to execute something like that:

	make man; make info; make -k

	Doing:

	exec make man; make info; make -k

	is *very* silly !

Tue Jul 26 21:43:37 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* Using the standard termcap library ...

	* termcap.h: removed

	* termcap.l: removed

Wed Jul  6 09:30:22 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* Makefile: A lot of fixes.

	* panel.c: (panel_getdirinfo): Fixed a bug in handling big
	directories.

	* uitaction: A per file type action script.  .uitaction is the
	local version.

	* uit.c: Added <CpoyPathToCmdLn>

	* uit.c: Added <ConformCurrentDir>, <ConformOtherDir>

Thu Jun 30 15:42:09 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c: (tty_getkey): Added support for ^H.  ^H is now treated as
	backspace.

	* panel.c: (panel_action): Bug fix: uit recovers ok when the
	current directory name has changed and we try to go to the parent
	directory.

	* panel.c: (panel_getdirinfo): We are now checking for bad
	directories e.g. directories where "." or ".." are missing.

Sat Jun 25 13:28:56 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* edit.c: I've added a new feature to the command line.  The user
	is now able to delete the last command line word.  The built-in
	command name is <DeleteCmdLnWord>.

	* .uitrc.TERM: The configuration files have been enhanced with
	commands running in background.

	* tty.c: a curses-like algorithm was implemented.  *NOTHING* is
	now written to the screen if it is already there.

	* panel.c: UIT can display now up to 99G of free file system space.

	* uitview.c: Same bug fix

	* uitps.c: Same bug fix

	* uit.c: Bug fix: uit correctly stops when started in background.
	SIGTTIN & SIGTTOU are no longer catched.

Thu Jun 23 11:33:02 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* panel.c: Added act_PATTERN_SELECT & act_PATTERN_UNSELECT.

	* fnmatch.c: Got fnmatch.c and fnmatch.h from bash sources.  It is
	now possible to select a group of files that matches a given
	pattern.  Added LeadingDotMatch variable to the configuration
	file.

Sun Jun 19 12:23:06 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* panel.c: (sortfn): 9 sort methods added.  StartupFileSortMode
	sets the initial sort mode (sort by name will be the default).

Thu Jun 16 12:25:03 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* uit.c: Added ~ support.  <ChangeDir> can be canceled now with
	TAB.

	* uitmount: This is a new script which lets the user to auto-mount
	file systems.

Sat Jun 11 00:10:50 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* uit.c: Added <ChangeDir>.

	* edit.c (edit_gets): Bug fix in getting the key.  Stupid.

	* tty.c (tty_getkey): This function no longer returns KEY_NOKEY.
	This avoids testing it outside.

Mon Jun  6 22:51:01 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* unistd.h included in all the files that use SEEK_SET.  I don't
	know if this is really needed but it won't hurt ...

	* .uitrc.console: TempDirectory changed to /tmp.

	* .uittermcap: Added xterm description.

Mon May 30 00:56:40 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c (tty_getkey): Bug fix: now we are correctly handling the 0
	key (uit ignores it).

Thu May 19 08:29:46 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* uit.texi: Added cross-references.

	* uit.c: If FrameDisplay is OFF, BUILTIN_Refresh must clear the
	screen.

Wed May 18 08:41:24 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* uit.texi: Added Info format documentation.

	* uit.man: Manual page updated.

Tue May 17 03:03:41 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* termcap.l (tc): Corrected invalid handle of terminal
	descriptions when using tc link.

	* tty.c: (tty_getscreen): tty_getscreen() now checks if the
	terminal is a virtual console.  It calls the ioctl() only if it
	is.  Doing otherwise seems to lead to problems when running under
	X.

	* Makefile: changed -O6 to -O2

	* Two small bugs corrected. UIT now correctly clears the screen
	when FrameDisplay is OFF and wait == 1.  uitps now correctly jumps
	to the end of file on files with "magic" sizes.

	* Added [UITPS-Setup] & [UITVIEW-Setup] to be able to change the
	status line of both uitps & uitview.

	* uitps & uitview modified to support full configurable keys.  Two
	sections have been added: [UITPS-Keys] & [UITVIEW-Keys].

Mon May 16 01:21:25 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* I've changed the name of the configuration file from .uitrc to
	.uitrc.TERM where TERM is the value of the TERM environment
	variable.

	* Ok, done.  UIT now understands any key sequence.  Any key sequence
	can be used, even if it's not supported by termcap.  F11, F12,
	Shift-F..., Ctrl-F... are now available.  The .uitrc file is
	shorter because undefined key sequences have been removed.

	* Keys are now in a linked list which is still able to detect the
	first key that doesn't match.  Faster.  A good start in making UIT
	able to handle more flexible key definitions.

Thu May 12 03:44:16 1994  Tudor Hulubei  (tudor@ulise.cs.pub.ro)

	* tty.c (tty_init): Opening /dev/tty or /dev/console wasn't
	really necessary and seemed to lead to problems.  Removed.

